(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{a55b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main"},[e.forgotPass?e._e():a("v-form",{ref:"form",staticClass:"main__form"},[a("h1",[e._v(e._s(e.api.title))]),a("v-text-field",{attrs:{label:e.api.email,outlined:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{type:"password",label:e.api.password,outlined:"",rules:e.reqRules,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"main__lang"},[e._v(e._s(e.curLang.text))]),a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v(e._s(e.api.login))]),a("div",{staticClass:"mt-3"},[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.forgotPass=!0}}},[e._v(e._s(e.api.forgot))])])],1),a("v-form",{directives:[{name:"show",rawName:"v-show",value:e.forgotPass,expression:"forgotPass"}],ref:"recoveryForm",staticClass:"main__form"},[a("h1",[e._v(e._s(e.api.forgotPage.title))]),a("v-text-field",{attrs:{label:e.api.email,outlined:"",rules:e.emailRules,required:"","hide-details":""},model:{value:e.recovery,callback:function(t){e.recovery=t},expression:"recovery"}}),a("div",{staticClass:"forgot__text"},[e._v(" "+e._s(e.api.forgotPage.text)+" ")]),a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.recoveryHandler(t)}}},[e._v(" "+e._s(e.api.forgotPage.btn)+" ")]),a("v-snackbar",{attrs:{timeout:"100000",centered:"",color:"success lighten-1"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[a("v-btn",e._b({attrs:{color:"white",text:""},on:{click:e.forgotSuccess}},"v-btn",r,!1),[e._v(e._s(e.api.close))])]}}]),model:{value:e.forgotSnack,callback:function(t){e.forgotSnack=t},expression:"forgotSnack"}},[e._v(" "+e._s(e.api.forgotPage.success)+" ")])],1),a("div",{staticClass:"mt-3"},[e._v(" "+e._s(e.api.newUser)+" "),a("router-link",{attrs:{to:"/register"}},[e._v(" "+e._s(e.api.reg)+" ")])],1),a("div",{staticClass:"mt-3"},[a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.supportHandler(t)}}},[e._v(" "+e._s(e.api.support.title))])]),a("v-snackbar",{attrs:{timeout:"10000",centered:"",color:"pink lighten-1"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[a("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.error=!1}}},"v-btn",r,!1),[e._v(e._s(e.api.close))])]}}]),model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" "+e._s(e.errorText)+" ")]),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.support,callback:function(t){e.support=t},expression:"support"}},[a("div",{staticClass:"support"},[a("div",[e._v(" "+e._s(e.api.support.number)+" "),a("br"),a("a",{attrs:{href:"tel:+998939921815"}},[e._v("+998 93 992 18 15")])]),a("div",{staticClass:"support__chat"},[a("a",{attrs:{href:"https://api.whatsapp.com/send?phone=998939921815",target:"_blank"}},[e._v(" "+e._s(e.api.support.whatsapp)+" ")]),a("br"),a("a",{attrs:{href:"https://t.me/Evgeniy_Sorochin",target:"_blank"}},[e._v(" "+e._s(e.api.support.telegram)+" ")])]),a("div",[e._v(" "+e._s(e.api.support.mail)+" "),a("br"),a("a",{attrs:{href:"mailto:jenya.sea@gmail.com"}},[e._v("jenya.sea@gmail.com")])])])])],1)])},o=[],s=(a("b0c0"),a("96cf"),a("1da1")),n={ru:{title:"Войдите, чтобы продолжить",email:"Email",password:"Пароль",login:"Войти",forgot:"Забыли пароль?",newUser:"Новый пользователь?",reg:"Зарегистрироваться",close:"Закрыть",forgotPage:{title:"Восстановление пароля",text:"* Укажите почту, и мы вышлем новый пароль для входа на платформу",btn:"Восстановить",success:"Новый пароль отправлен вам на почту"},support:{title:"Техническая поддержка",number:"Телефон горячей линии",whatsapp:"Перейти в чат WhatsApp",telegram:"Перейти в чат Telegram",mail:"Почта техподдержки"}},uz:{title:"Kirish uchun davom eting",email:"El.pochta",password:"Parol (sirli kod)",login:"Kirish",forgot:"Parolni unutdingizmi?",newUser:"Yangi foydalanuvchi?",reg:"Ro'yhatdan o'tish",close:"Yopish",forgotPage:{title:"Parolni tiklash",text:"* Elektron pochtangizni kiriting va biz platformaga kirish uchun yangi parol yuboramiz",btn:"Tiklash",success:"Elektron pochtangizga yangi parol yuborildi"},support:{title:"Texnik yordam",number:"Ishonch telefoni",whatsapp:"WhatsApp chatiga o'tish",telegram:"Telegram chatiga o'tish",mail:"Texnik yordam pochtasi"}},en:{title:"Enter to continue",email:"Email",password:"Password",login:"Enter",forgot:"Forgot your password?",newUser:"Not signed up yet?",reg:"Sign up",close:"Close",forgotPage:{title:"Password recovery",text:"* Enter your mail, and we will send a new password to enter the platform",btn:"Restore",success:"A new password has been sent to your email"},support:{title:"Technical support",number:"Hotline phone",whatsapp:"Go to WhatsApp chat",telegram:"Go to Telegram chat",mail:"Support mail"}}},i=a("7507"),l={name:"Login",mixins:[i["a"]],data:function(){return{email:"",password:"",forgotPass:!1,recovery:"",forgotSnack:!1}},computed:{api:function(){return n[this.curLang.name]}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,o,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$refs.form.validate(),a){t.next=3;break}return t.abrupt("return",!1);case 3:return r={email:e.email,password:e.password,language:e.curLang.name},t.prev=4,t.next=7,e.$axios.post("/api/auth/login",r,{headers:{"Content-Type":"application/json"}});case 7:return o=t.sent,t.next=10,o.data;case 10:s=t.sent,sessionStorage.setItem("token",s.token),location.href="/".concat(s.lang),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](4),n=t.t0.response.data,e.errorText=n.message||n.errors[0].msg,e.error=!0;case 20:case"end":return t.stop()}}),t,null,[[4,15]])})))()},recoveryHandler:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$refs.recoveryForm.validate(),a){t.next=3;break}return t.abrupt("return",!1);case 3:return r={email:e.recovery,language:e.curLang.name},t.prev=4,t.next=7,e.$axios.post("/api/auth/recovery",r,{headers:{"Content-Type":"application/json"}});case 7:e.forgotSnack=!0,setTimeout((function(){e.forgotPass=!1}),3e3),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](4),e.error=!0,"ru"==e.curLang.name?e.errorText="Данный пользователь не найден":"uz"==e.curLang.name?e.errorText="Ushbu foydalanuvchi topilmadi":e.errorText="This user was not found",e.recovery="";case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()},forgotSuccess:function(){this.forgotSnack=!1,this.forgotPass=!1}},mounted:function(){this.$refs.form.reset()}},c=l,u=a("2877"),p=a("6544"),g=a.n(p),m=a("8336"),f=a("169a"),v=a("4bd4"),d=a("2db4"),h=a("8654"),_=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=_.exports;g()(_,{VBtn:m["a"],VDialog:f["a"],VForm:v["a"],VSnackbar:d["a"],VTextField:h["a"]})}}]);
//# sourceMappingURL=login.f8cb5be0.js.map